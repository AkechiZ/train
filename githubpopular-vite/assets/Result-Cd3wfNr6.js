import{j as e,u as y,c as g,r}from"./index-C80eYr0F.js";import{R as v,p as x}from"./player-Da-Lh_2L.js";import{L as b,D as S,a as i,U as N,S as w,W as E,h as j}from"./home-V8BBnw8T.js";import{S as R}from"./StarOutlined-FkFG9Ey-.js";function _({loading:s,children:t,...n}){return e.jsxs("button",{type:"button",className:"button",...n,children:[s&&e.jsx("div",{style:{marginRight:8},children:e.jsx(b,{})}),t]})}function O(s){return e.jsx("div",{className:"panels",children:s.children})}function h({player:s}){return e.jsxs("div",{className:"panel",children:[e.jsx("div",{className:"title",children:s.win?"Winner":"Loser"}),e.jsx("div",{className:"avatar",children:e.jsx("img",{src:s.avatar_url,alt:""})}),e.jsxs("div",{className:"score",children:["Scores: ",s.public_repos]}),e.jsx("div",{className:"username",children:e.jsx("a",{href:s.html_url,children:s.name||"Unknown"})}),e.jsxs(S,{children:[e.jsx(i,{icon:e.jsx(N,{style:{color:"orange"}}),children:s.location||"Unknown"}),e.jsx(i,{icon:e.jsx(R,{style:{color:"blue"}}),children:s.followers}),e.jsx(i,{icon:e.jsx(w,{style:{color:"#1f74e7"}}),children:s.following}),e.jsx(i,{icon:e.jsx(E,{style:{color:"#f14c4c"}}),children:s.public_repos})]})]})}function I(){const[s]=y(),t=g(),n=s.get("player1"),l=s.get("player2"),[c,m]=r.useState(),[o,f]=r.useState(),p=!!c&&!!o;return r.useEffect(()=>{(!n||!l)&&t("/battle")},[n,l]),r.useEffect(()=>{Promise.all([j(n),j(l)]).then(([d,u])=>{let a="player1";d.public_repos<u.public_repos&&(a="player2"),m({...d,win:a==="player1"}),f({...u,win:a==="player2"})})},[n,l]),p&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx(O,{children:e.jsxs(v,{children:[e.jsx(x,{style:{display:"flex",justifyContent:"center"},sm:12,xs:24,children:e.jsx(h,{player:c})}),e.jsx(x,{style:{display:"flex",justifyContent:"center"},sm:12,xs:24,children:e.jsx(h,{player:o})})]})}),e.jsx(_,{onClick:()=>{t("/battle")},children:"RESET"})]})}export{I as default};
